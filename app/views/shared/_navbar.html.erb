<div class="navbar bg-base-100">
  <div class="flex-1">
    <% if logged_in? %>
      <%= link_to t(".appname"), user_path(current_user), class:"btn btn-ghost normal-case text-xl" %>
    <% else %>
      <%= link_to t(".appname"), root_path, class:"btn btn-ghost normal-case text-xl" %>
    <% end %>
  </div>
  <% if logged_in? %>
  <div class="flex-none gap-2">
    <div class="dropdown dropdown-end">
      <label tabindex="0" class="btn btn-ghost btn-circle avatar">
        <div class="w-10 rounded-full">
          <%= current_user.avatar.attached? ? (image_tag current_user.avatar, class:"rounded-full") : (image_tag "blank-profile.png", class:"rounded-full") %>
        </div>
      </label>
      <ul tabindex="0" class="mt-3 z-[1] p-2 shadow menu menu-sm dropdown-content bg-base-100 rounded-box w-52">
        <li><%= link_to t(".mypage"), user_path(current_user), id: 'mypage-link'%></li>
        <li><%= link_to t(".timeline"), tracks_path, id: 'timeline-link'%></li>
        <li><%= link_to t(".setting"), edit_user_path(current_user), id: 'setting-link'%></li>
        <li><%= link_to t(".logout"), :logout, id: 'sign-out-link', data: { "turbo-method": :delete } %></li>
      </ul>
    </div>
  </div>
  <% end %>
</div>